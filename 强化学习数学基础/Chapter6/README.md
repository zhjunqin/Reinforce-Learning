# 随机近似

本章介绍随机近似（Stochastic Approximation）的基础知识。为后面的时序差分（temporal-difference）算法做铺垫。

前面章节的算法都是非增量的，后续的章节会开始学习增量的算法。

## 均值估计

这里给出一个示例，展示如何将一个非增量的算法转换成一个增量的算法。

考虑一个随机变量 $X$，它从表示为 $\mathcal{X}$ 的有限实数集中获取值。我们的目标是计算 $X$ 的期望： $E[X]$。

如果随机变量 $X$ 的概率分布是未知的，假定我们有一系列独立同分布的样本 $\{x_i\}^n_{i=1}$，那么 $X$ 的期望可以近似为

$$ E[X] \approx \bar{x} = \frac{1}{n} \sum^n_{i=1} x_i$$

当 $ n \rightarrow \infin $ 时，$ \bar{x} \rightarrow E[X] $。

这个近似值是蒙特卡洛估计的基本概念。这种方法的缺点是，如果样本数量很大，我们可能需要等待很长时间才能收集到所有样本。下面介绍增量的方法。

假定：

$$ w_{k+1}= \frac{1}{k} \sum^k_{i=1} x_i, \ k=1,2,...$$

那么 

$$ w_{k}= \frac{1}{k-1} \sum^{k-1}_{i=1} x_i, \ k=2,3,...$$

因此 $w_{k+1}$ 可以使用 $w_{k}$ 来表示：

$$ w_{k+1}= \frac{1}{k} \sum^k_{i=1} x_i = \frac{1}{k} ( \sum^{k-1}_{i=1} x_i + x_k ) =  \frac{1}{k} ( (k-1) \cdot w_k + x_k ) =   w_k- \frac{1}{k} ( w_k - x_k ) $$ 